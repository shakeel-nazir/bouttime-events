
{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 .AppleSystemUIFontMonospaced-Regular;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\csgray\c0;}
\margl1440\margr1440\vieww28520\viewh14720\viewkind0
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f0\fs30 \cf2 <!doctype html>\
<meta charset="utf-8" />\
<title>BoutTime Events Builder</title>\
<script>\
(async () => \{\
  // Edit these if you want\
  const UFC_URL = "https://www.ufc.com/events#events-list-upcoming";\
  const BOX_URL = "https://box.live/upcoming-fights-schedule/";\
\
  // Very simple parser helpers\
  const clean = (s) => (s || "").replace(/\\s+/g," ").trim();\
\
  async function fetchText(url)\{\
    const r = await fetch("https://r.jina.ai/" + url);\
    if(!r.ok) throw new Error("Fetch failed " + r.status);\
    return await r.text();\
  \}\
\
  // UFC: grab lines that look like dates + event titles\
  function parseUfc(text)\{\
    // This is best-effort. UFC page changes sometimes.\
    // We try to find \'93UFC\'94 titles and a nearby date like \'93Sat, Feb 21 / 10:00 PM\'94\
    const out = [];\
    const lines = text.split("\\n").map(clean).filter(Boolean);\
    for (let i=0;i<lines.length;i++)\{\
      const t = lines[i];\
      if (!/ufc\\s*\\d+|ufc fight night|ufc on/i.test(t)) continue;\
\
      // look around for a date string\
      const window = lines.slice(Math.max(0,i-8), i+8).join(" ");\
      const m = window.match(/\\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\\s+\\d\{1,2\}\\b/i);\
      if(!m) continue;\
\
      const title = t;\
      const dateText = m[0];\
      out.push(\{ sport:"UFC", name:title, dateText \});\
    \}\
    return out;\
  \}\
\
  // Boxing from box.live: tends to list \'93DATE\'94 lines then fights\
  function parseBoxLive(text)\{\
    const out = [];\
    const lines = text.split("\\n").map(clean).filter(Boolean);\
\
    // Look for date like "21 Feb 2026" or "Feb 21 2026"\
    for (let i=0;i<lines.length;i++)\{\
      const dateLine = lines[i];\
      const dm1 = dateLine.match(/\\b(\\d\{1,2\})\\s+(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\\s+(\\d\{4\})\\b/i);\
      const dm2 = dateLine.match(/\\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\\s+(\\d\{1,2\}),?\\s+(\\d\{4\})\\b/i);\
\
      if(!dm1 && !dm2) continue;\
\
      const window = lines.slice(i, i+25).join(" | ");\
      // fight patterns like "Ryan Garcia vs ..."\
      const fights = window.match(/([A-Z][A-Za-z'.-]+(?:\\s+[A-Z][A-Za-z'.-]+)*)\\s+vs\\.?\\s+([A-Z][A-Za-z'.-]+(?:\\s+[A-Z][A-Za-z'.-]+)*)/g) || [];\
      for(const f of fights.slice(0,6))\{\
        out.push(\{ sport:"BOX", name:f, dateText: dm1 ? dm1[0] : dm2[0] \});\
      \}\
    \}\
    return out;\
  \}\
\
  function toISO(dateText)\{\
    // best-effort parse into a date (no time)\
    const d = new Date(dateText);\
    if(!Number.isNaN(d.getTime()))\{\
      const y = d.getFullYear();\
      const m = String(d.getMonth()+1).padStart(2,"0");\
      const da = String(d.getDate()).padStart(2,"0");\
      return `$\{y\}-$\{m\}-$\{da\}`;\
    \}\
    return null;\
  \}\
\
  const [ufcText, boxText] = await Promise.all([fetchText(UFC_URL), fetchText(BOX_URL)]);\
  const ufc = parseUfc(ufcText).map(e => (\{...e, dayKey: toISO(e.dateText)\})).filter(e=>e.dayKey);\
  const box = parseBoxLive(boxText).map(e => (\{...e, dayKey: toISO(e.dateText)\})).filter(e=>e.dayKey);\
\
  const events = [...ufc, ...box]\
    .map(e => (\{\
      sport: e.sport,\
      name: e.name,\
      dayKey: e.dayKey,\
      date: e.dayKey + "T12:00:00Z"\
    \}))\
    .filter(e => e.dayKey)\
    .slice(0,400);\
\
  document.body.innerHTML = "<pre>" + JSON.stringify(\{generatedAt:new Date().toISOString(), events\}, null, 2) + "</pre>";\
\})();\
</script>}
